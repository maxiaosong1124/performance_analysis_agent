# AI Linuxæ€§èƒ½åˆ†ææ™ºèƒ½ä½“ - ä»é›¶å®ç°è®¡åˆ’

> ç›®æ ‡ï¼šä»é›¶å¼€å§‹å®ç°AIé©±åŠ¨çš„Linuxæ€§èƒ½åˆ†æä¸ä¼˜åŒ–æ™ºèƒ½ä½“ï¼Œæ·±å…¥ç†è§£Linuxç³»ç»Ÿå’Œå†…æ ¸æ€§èƒ½ä¼˜åŒ–åº•å±‚åŸç†ã€‚

## ğŸ“Œ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ—¨åœ¨é€šè¿‡**äº²æ‰‹å®ç°**è€Œéå€Ÿç”¨ç°æœ‰å·¥å…·ï¼ˆå¦‚perfã€valgrindç­‰ï¼‰ï¼Œä»åº•å±‚åŸç†å‡ºå‘ï¼Œæ„å»ºä¸€ä¸ªå®Œæ•´çš„AIæ€§èƒ½åˆ†ææ™ºèƒ½ä½“ã€‚è™½ç„¶ä¼š"é‡å¤é€ è½®å­"ï¼Œä½†è¿™å°†å¸¦æ¥å¯¹Linuxç³»ç»Ÿæœ€æ·±å…¥çš„ç†è§£å’Œä¸ªäººæˆé•¿ã€‚

### æ ¸å¿ƒå­¦ä¹ åŸåˆ™

1. **ä»é›¶å®ç°** - ä¸ä¾èµ–ç°æœ‰æ€§èƒ½å·¥å…·ï¼Œè‡ªå·±ç¼–å†™é‡‡é›†ã€åˆ†æå¼•æ“
2. **æºç çº§ç†è§£** - æ·±å…¥Linuxå†…æ ¸æºç ï¼Œç†è§£åº•å±‚æœºåˆ¶
3. **æ¸è¿›å¼æ„å»º** - ä»ç®€å•åˆ°å¤æ‚ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰å¯è¿è¡Œçš„äº§å‡º
4. **AIé›†æˆ** - æœ€ç»ˆé›†æˆLLMï¼Œå®ç°æ™ºèƒ½è¯Šæ–­å’Œä¼˜åŒ–å»ºè®®

---

## ğŸ“š æ ¸å¿ƒå‚è€ƒèµ„æ–™

### å¿…è¯»ä¹¦ç±

| ä¹¦å | ä½œè€… | ç”¨é€” |
|------|------|------|
| ã€ŠSystems Performance: Enterprise and the Cloud, 2nd Editionã€‹ | Brendan Gregg | **æ ¸å¿ƒæ•™æ**ï¼Œæ€§èƒ½åˆ†ææ–¹æ³•å­¦ |
| ã€ŠBPF Performance Tools: Linux System and Application Observabilityã€‹ | Brendan Gregg | eBPFæ·±åº¦ç†è§£ |
| ã€ŠUnderstanding the Linux Kernelã€‹ | Daniel P. Bovet | å†…æ ¸åŸç† |
| ã€ŠLinux Kernel Developmentã€‹ | Robert Love | å†…æ ¸å¼€å‘å®è·µ |

### åœ¨çº¿èµ„æº

- **[Brendan Gregg's Blog](https://www.brendangregg.com/)** - Linuxæ€§èƒ½åˆ†ææƒå¨èµ„æ–™
- **[Linux Kernel Documentation - ftrace](https://docs.kernel.org/trace/ftrace.html)** - ftraceå®˜æ–¹æ–‡æ¡£
- **[eBPF & BPF Documentation](https://www.brendangregg.com/ebpf.html)** - eBPFç³»åˆ—æ–‡ç« 
- **[perf wiki](https://perfwiki.github.io/)** - perfå·¥å…·æ–‡æ¡£

### æºç å‚è€ƒ

```
Linuxå†…æ ¸æºç å…³é”®è·¯å¾„ï¼š
â”œâ”€â”€ tools/perf/           # perfå·¥å…·å®ç°
â”œâ”€â”€ kernel/trace/         # ftraceå®ç°
â”œâ”€â”€ kernel/bpf/           # eBPFå®ç°
â”œâ”€â”€ kernel/events/        # perf_eventå®ç°
â”œâ”€â”€ kernel/ptrace.c       # ptraceå®ç°
â””â”€â”€ fs/proc/              # procfså®ç°
```

---

## ğŸ—ºï¸ å­¦ä¹ è·¯çº¿å›¾

### ç¬¬ä¸€é˜¶æ®µï¼šLinuxæ€§èƒ½åˆ†æåŸºç¡€ (4-6å‘¨)

| å‘¨æ¬¡ | ä¸»é¢˜ | å…³é”®çŸ¥è¯†ç‚¹ | å®è·µä»»åŠ¡ |
|------|------|------------|----------|
| 1-2 | **æ€§èƒ½åˆ†ææ–¹æ³•å­¦** | USEæ–¹æ³•ã€REDæ–¹æ³•ã€Off-CPUåˆ†æã€ç«ç„°å›¾ | é˜…è¯»ã€Šæ€§èƒ½ä¹‹å·…ã€‹ç¬¬1-4ç«  |
| 2-3 | **Linux procfs & sysfs** | `/proc/[pid]/stat`, `/proc/meminfo`, `/proc/cpuinfo` å®ç°åŸç† | è‡ªå·±è§£æ/procæ–‡ä»¶ï¼Œå®ç°ç®€å•çš„topå·¥å…· |
| 3-4 | **System Callè¿½è¸ª** | ptraceç³»ç»Ÿè°ƒç”¨åŸç† | å®ç°ä¸€ä¸ªæç®€çš„strace |
| 4-6 | **CPUæ€§èƒ½ç›‘æ§** | PMU(Performance Monitoring Unit), rdpmcæŒ‡ä»¤, `perf_event_open` | å®ç°CPUå‘¨æœŸè®¡æ•°å™¨è¯»å–å·¥å…· |

**é˜¶æ®µç›®æ ‡:** èƒ½ç‹¬ç«‹å®ç°ä¸€ä¸ªç®€æ˜“çš„`mytop`å·¥å…·ï¼Œæ˜¾ç¤ºè¿›ç¨‹CPU/å†…å­˜ä½¿ç”¨æƒ…å†µ

---

### ç¬¬äºŒé˜¶æ®µï¼šå†…æ ¸è¿½è¸ªæœºåˆ¶åŸç† (6-8å‘¨)

| å‘¨æ¬¡ | ä¸»é¢˜ | å…³é”®çŸ¥è¯†ç‚¹ | å®è·µä»»åŠ¡ |
|------|------|------------|----------|
| 6-7 | **TracepointsåŸç†** | å†…æ ¸é™æ€æ’æ¡©æœºåˆ¶ï¼Œtracepointå®šä¹‰ä¸æ³¨å†Œ | ç¼–å†™å†…æ ¸æ¨¡å—æ·»åŠ è‡ªå®šä¹‰tracepoint |
| 7-8 | **Kprobes/Kretprobes** | åŠ¨æ€å†…æ ¸æ’æ¡©ï¼Œbreakpointæœºåˆ¶ | å®ç°å†…æ ¸å‡½æ•°è°ƒç”¨è¿½è¸ªå·¥å…· |
| 8-10 | **UprobesåŸç†** | ç”¨æˆ·æ€åŠ¨æ€æ’æ¡© | å®ç°ç”¨æˆ·æ€å‡½æ•°è°ƒç”¨è¿½è¸ª |
| 10-12 | **Ring Bufferå®ç°** | æ— é”ç¯å½¢ç¼“å†²åŒºï¼Œper-CPUç¼“å†²åŒºè®¾è®¡ | è‡ªå·±å®ç°ä¸€ä¸ªé«˜æ€§èƒ½Ring Buffer |
| 12-14 | **FtraceåŸç†** | function tracerå®ç°ï¼Œmcountæ’æ¡© | å®ç°ä¸€ä¸ªç®€åŒ–çš„function tracer |

**é˜¶æ®µç›®æ ‡:** å®ç°ä¸€ä¸ªå®Œæ•´çš„å†…æ ¸/ç”¨æˆ·æ€å‡½æ•°è°ƒç”¨è¿½è¸ªå·¥å…·ï¼Œèƒ½æ˜¾ç¤ºå‡½æ•°è°ƒç”¨è€—æ—¶

---

### ç¬¬ä¸‰é˜¶æ®µï¼šeBPFç¼–ç¨‹ä¸åº”ç”¨ (4-6å‘¨)

> è°ƒæ•´è¯´æ˜ï¼šæœ¬é˜¶æ®µèšç„¦äº**ä½¿ç”¨eBPFè¿›è¡Œæ€§èƒ½åˆ†æ**ï¼Œè€Œéå®ç°eBPFè¿è¡Œæ—¶ã€‚é‡‡ç”¨æˆç†Ÿåº“è¿›è¡Œå¼€å‘ã€‚

#### æ¨èçš„eBPFå¼€å‘åº“

| åº“/å·¥å…· | è¯­è¨€ | é€‚ç”¨åœºæ™¯ | å­¦ä¹ æ›²çº¿ |
|---------|------|---------|---------|
| **libbpf** | C | ç”Ÿäº§ç¯å¢ƒï¼Œå†…æ ¸æºç é…å¥— | è¾ƒé™¡ |
| **libbpf-go** | Go | Goé¡¹ç›®é›†æˆï¼Œäº‘åŸç”Ÿåœºæ™¯ | ä¸­ç­‰ |
| **libbpf-rs** | Rust | Rusté¡¹ç›®ï¼Œç±»å‹å®‰å…¨ | ä¸­ç­‰ |
| **bpftrace** | DSL | å¿«é€ŸåŸå‹ï¼Œone-linerè„šæœ¬ | å¹³ç¼“ |
| **eunomia-bpf** | C/Go | ç®€åŒ–å¼€å‘ï¼ŒCO-REå‹å¥½ | å¹³ç¼“ |

#### å­¦ä¹ è·¯çº¿

| å‘¨æ¬¡ | ä¸»é¢˜ | å…³é”®çŸ¥è¯†ç‚¹ | å®è·µä»»åŠ¡ |
|------|------|------------|----------|
| 14-15 | **eBPFåŸºç¡€æ¦‚å¿µ** | eBPFç¨‹åºç±»å‹(kprobe/tracepoint/XDPç­‰)ã€Mapsã€CO-RE | é˜…è¯»ã€ŠBPF Performance Toolsã€‹ |
| 15-16 | **bpftraceå¿«é€Ÿä¸Šæ‰‹** | ç®€æ´è¯­æ³•ã€å†…ç½®å‡½æ•°ã€èšåˆåˆ†æ | ç¼–å†™å¸¸ç”¨æ€§èƒ½åˆ†æè„šæœ¬ |
| 16-18 | **libbpfå¼€å‘å®è·µ** | Skeletonã€BPFç¨‹åºåŠ è½½ã€ç”¨æˆ·æ€äº¤äº’ | å®ç°è‡ªå®šä¹‰æ€§èƒ½é‡‡é›†å·¥å…· |
| 18-20 | **é«˜çº§eBPFåº”ç”¨** | ç«ç„°å›¾ç”Ÿæˆã€Off-CPUåˆ†æã€ç½‘ç»œç›‘æ§ | é›†æˆåˆ°æ€§èƒ½åˆ†ææ¡†æ¶ |

**é˜¶æ®µç›®æ ‡:** ç†Ÿç»ƒä½¿ç”¨eBPFè¿›è¡Œæ€§èƒ½æ•°æ®é‡‡é›†ï¼Œèƒ½å¤Ÿç¼–å†™è‡ªå®šä¹‰çš„eBPFæ€§èƒ½åˆ†æå·¥å…·

#### eBPFå­¦ä¹ èµ„æº

- **ã€ŠBPF Performance Toolsã€‹** - Brendan Gregg (å¿…è¯»)
- **[libbpf-bootstrap](https://github.com/libbpf/libbpf-bootstrap)** - å®˜æ–¹å…¥é—¨é¡¹ç›®
- **[BCC/libbpfæ•™ç¨‹](https://github.com/iovisor/bcc)** - ä¸°å¯Œçš„ç¤ºä¾‹ä»£ç 
- **[eBPF Docs](https://ebpf.io/what-is-ebpf/)** - eBPFå®˜æ–¹æ–‡æ¡£

---

### ç¬¬å››é˜¶æ®µï¼šé‡‡æ ·ä¸Profiling (4-6å‘¨)

| å‘¨æ¬¡ | ä¸»é¢˜ | å…³é”®çŸ¥è¯†ç‚¹ | å®è·µä»»åŠ¡ |
|------|------|------------|----------|
| 24-26 | **CPUé‡‡æ ·åŸç†** | å®šæ—¶ä¸­æ–­é‡‡æ ·ï¼ŒPMCæº¢å‡ºé‡‡æ · | å®ç°åŸºäºsetitimerçš„é‡‡æ ·å™¨ |
| 26-27 | **æ ˆå›æº¯å®ç°** | frame pointer, ORC, LBR, DWARFè§£æ | å®ç°ç”¨æˆ·æ€æ ˆå›æº¯ |
| 27-28 | **Off-CPUåˆ†æ** | è°ƒåº¦äº‹ä»¶è¿½è¸ªï¼Œç¡çœ åŸå› åˆ†æ | å®ç°Off-CPUæ—¶é—´åˆ†æå·¥å…· |
| 28-30 | **ç«ç„°å›¾ç”Ÿæˆ** | æŠ˜å æ ˆæ ¼å¼ï¼ŒSVGç”Ÿæˆç®—æ³• | å®ç°ç«ç„°å›¾ç”Ÿæˆå™¨ |

**é˜¶æ®µç›®æ ‡:** å®ç°ä¸€ä¸ªå®Œæ•´çš„CPU Profilerï¼Œèƒ½ç”Ÿæˆç«ç„°å›¾

---

### ç¬¬äº”é˜¶æ®µï¼šAIæ™ºèƒ½ä½“é›†æˆ (6-8å‘¨)

| å‘¨æ¬¡ | ä¸»é¢˜ | å…³é”®çŸ¥è¯†ç‚¹ | å®è·µä»»åŠ¡ |
|------|------|------------|----------|
| 30-32 | **æ€§èƒ½æ•°æ®å»ºæ¨¡** | æ—¶é—´åºåˆ—åˆ†æï¼Œå¼‚å¸¸æ£€æµ‹ç®—æ³• | å»ºç«‹æ€§èƒ½åŸºçº¿æ¨¡å‹ |
| 32-34 | **æ ¹å› åˆ†æç®—æ³•** | å› æœæ¨æ–­ï¼Œç“¶é¢ˆå®šä½ç®—æ³• | å®ç°è‡ªåŠ¨åŒ–ç“¶é¢ˆè¯Šæ–­ |
| 34-36 | **LLMé›†æˆ** | Promptå·¥ç¨‹ï¼Œå·¥å…·è°ƒç”¨è®¾è®¡ | å®ç°è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ¥å£ |
| 36-38 | **ä¼˜åŒ–å»ºè®®ç”Ÿæˆ** | çŸ¥è¯†å›¾è°±ï¼Œè§„åˆ™å¼•æ“ | å®ç°è‡ªåŠ¨åŒ–ä¼˜åŒ–å»ºè®® |

**é˜¶æ®µç›®æ ‡:** å®Œæ•´çš„AIæ€§èƒ½åˆ†ææ™ºèƒ½ä½“ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€äº¤äº’

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„è®¾è®¡

```
ai-perf-agent/
â”œâ”€â”€ core/                          # æ ¸å¿ƒæ€§èƒ½é‡‡é›†å¼•æ“ï¼ˆä»é›¶å®ç°ï¼‰
â”‚   â”œâ”€â”€ procfs/                    # /procè§£ææ¨¡å—
â”‚   â”œâ”€â”€ tracer/                    # è¿½è¸ªå¼•æ“(kprobe/uprobe)
â”‚   â”œâ”€â”€ sampler/                   # é‡‡æ ·å¼•æ“
â”‚   â”œâ”€â”€ ringbuf/                   # ç¯å½¢ç¼“å†²åŒºå®ç°
â”‚   â””â”€â”€ ebpf/                      # eBPFåº”ç”¨å±‚å°è£…
â”‚       â”œâ”€â”€ loader/                # eBPFç¨‹åºåŠ è½½å™¨(åŸºäºlibbpf)
â”‚       â”œâ”€â”€ programs/              # è‡ªå®šä¹‰eBPFç¨‹åºé›†åˆ
â”‚       â””â”€â”€ maps/                  # Mapsè¯»å†™å°è£…
â”‚
â”œâ”€â”€ external/                      # å¤–éƒ¨å·¥å…·é›†æˆï¼ˆç”Ÿäº§ç¯å¢ƒå¢å¼ºï¼‰
â”‚   â”œâ”€â”€ adapters/                  # å·¥å…·é€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ perf/                  # Linux perfé›†æˆ
â”‚   â”‚   â”œâ”€â”€ nsight/                # NVIDIA Nsight Compute/Systems
â”‚   â”‚   â”œâ”€â”€ vtune/                 # Intel VTune
â”‚   â”‚   â”œâ”€â”€ bpftrace/              # bpftraceåŠ¨æ€è¿½è¸ª
â”‚   â”‚   â””â”€â”€ valgrind/              # Valgrind/Massif
â”‚   â”œâ”€â”€ unified/                   # ç»Ÿä¸€æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ unified_profile.hpp
â”‚   â”‚   â”œâ”€â”€ unified_trace.hpp
â”‚   â”‚   â””â”€â”€ unified_metrics.hpp
â”‚   â”œâ”€â”€ orchestrator/              # å·¥å…·ç¼–æ’å™¨
â”‚   â”‚   â””â”€â”€ tool_orchestrator.hpp
â”‚   â””â”€â”€ ai_bridge/                 # AIæ¨¡å—æ¡¥æ¥
â”‚       â””â”€â”€ external_data_bridge.hpp
â”‚
â”œâ”€â”€ analysis/                      # åˆ†æå¼•æ“
â”‚   â”œâ”€â”€ flamegraph/                # ç«ç„°å›¾ç”Ÿæˆ
â”‚   â”œâ”€â”€ offcpu/                    # Off-CPUåˆ†æ
â”‚   â”œâ”€â”€ metrics/                   # æŒ‡æ ‡è®¡ç®—
â”‚   â””â”€â”€ anomaly/                   # å¼‚å¸¸æ£€æµ‹
â”œâ”€â”€ ai/                            # AIæ¨¡å—
â”‚   â”œâ”€â”€ llm/                       # LLMé›†æˆ
â”‚   â”œâ”€â”€ diagnosis/                 # æ™ºèƒ½è¯Šæ–­
â”‚   â””â”€â”€ recommendation/            # ä¼˜åŒ–å»ºè®®
â”œâ”€â”€ cli/                           # å‘½ä»¤è¡Œç•Œé¢
â””â”€â”€ docs/                          # å­¦ä¹ ç¬”è®°å’Œæ–‡æ¡£
```

---

## ğŸ’¡ å­¦ä¹ å»ºè®®

### 1. ç²¾è¯»æºç ç­–ç•¥

å¯¹äºæ¯ä¸ªå·¥å…·ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºé˜…è¯»ï¼š

1. **äº†è§£ç”¨æˆ·æ¥å£** - å…ˆç†Ÿæ‚‰è¯¥å·¥å…·çš„ä½¿ç”¨æ–¹æ³•å’Œè¾“å‡ºæ ¼å¼
2. **æ‰¾åˆ°ç³»ç»Ÿè°ƒç”¨å…¥å£** - å¦‚ `perf_event_open`, `ptrace`, `bpf`
3. **è·Ÿè¸ªå†…æ ¸å®ç°è·¯å¾„** - ä»ç³»ç»Ÿè°ƒç”¨åˆ°æ ¸å¿ƒé€»è¾‘
4. **ç†è§£æ•°æ®ç»“æ„** - å¦‚ `perf_event`, `bpf_prog`, `task_struct`
5. **çœ‹å·¥å…·å±‚å°è£…** - ç†è§£å¦‚ä½•ç»„ç»‡å’Œä½¿ç”¨å†…æ ¸æ¥å£

### 2. åŠ¨æ‰‹å®è·µåŸåˆ™

- âœ… **å…ˆå®ç°MVP** - ä¸è¦è¿½æ±‚å®Œç¾ï¼Œå…ˆè®©ä»£ç è·‘èµ·æ¥
- âœ… **å¯¹æ¯”éªŒè¯** - ä½ çš„å®ç°ç»“æœè¦å’Œç°æœ‰å·¥å…·å¯¹æ¯”éªŒè¯
- âœ… **ç¼–å†™æµ‹è¯•** - ä¸ºæ¯ä¸ªæ¨¡å—ç¼–å†™å•å…ƒæµ‹è¯•
- âœ… **è®°å½•é—®é¢˜** - æŠŠé‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆè®°å½•ä¸‹æ¥

### 3. å­¦ä¹ è®°å½•

å»ºè®®æ¯è¯»å®Œä¸€ä¸ªæ¨¡å—ï¼Œå†™ä¸€ç¯‡æŠ€æœ¯ç¬”è®°ï¼ŒåŒ…å«ï¼š

- åŸç†æ€»ç»“ï¼ˆç”¨è‡ªå·±çš„è¯æè¿°ï¼‰
- å…³é”®æ•°æ®ç»“æ„å›¾ç¤º
- æ ¸å¿ƒç®—æ³•æµç¨‹
- é‡åˆ°çš„é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ
- å‚è€ƒä»£ç ç‰‡æ®µ

---

## ğŸ”— å…³é”®æŠ€æœ¯èµ„æ–™ç´¢å¼•

| æŠ€æœ¯ | å†…æ ¸æºç è·¯å¾„ | æ¨èå­¦ä¹ èµ„æº |
|------|-------------|-------------|
| procfs | `fs/proc/` | `/proc`æ–‡ä»¶ç³»ç»Ÿè¯¦è§£ |
| ptrace | `kernel/ptrace.c` | "How Does a C Debugger Work?" |
| perf_event | `kernel/events/` | Brendan Greggçš„perfç³»åˆ—åšå®¢ |
| ftrace | `kernel/trace/` | "Ftrace: The Hidden Light Switch" |
| eBPF | `kernel/bpf/` | "BPF: A New Type of Software" |
| Ring Buffer | `kernel/trace/ring_buffer.c` | LWN Ring Bufferç³»åˆ—æ–‡ç«  |
| PMU | `arch/x86/events/` | Intel SDM Volume 3B |
| Tracepoint | `include/linux/tracepoint.h` | å†…æ ¸æ–‡æ¡£ï¼štracepoint |
| Kprobe | `kernel/kprobes.c` | kprobeåŸç†åˆ†æ |

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨å»ºè®®

ç”±äºè¿™æ˜¯ä¸€ä¸ªé•¿æœŸé¡¹ç›®ï¼ˆé¢„è®¡30-38å‘¨ï¼‰ï¼Œå»ºè®®æŒ‰ä»¥ä¸‹ä¼˜å…ˆçº§å¯åŠ¨ï¼š

### Week 1ï¼šé¡¹ç›®æ­å»º + procfs
1. æ­å»ºé¡¹ç›®ç›®å½•ç»“æ„å’ŒCMakeæ„å»ºç³»ç»Ÿ
2. å®ç°åŸºç¡€çš„`/proc`è§£ææ¨¡å—
3. åšä¸€ä¸ªèƒ½æ˜¾ç¤ºè¿›ç¨‹CPU/å†…å­˜çš„å·¥å…·

### Week 2ï¼šptraceå®è·µ
1. å­¦ä¹ ptraceç³»ç»Ÿè°ƒç”¨
2. å®ç°ä¸€ä¸ªæç®€çš„straceå·¥å…·
3. ç†è§£æ–­ç‚¹å’Œå•æ­¥æ‰§è¡ŒåŸç†

### Week 3+ï¼šæ·±å…¥å†…æ ¸
1. å¼€å§‹é˜…è¯»ã€Šæ€§èƒ½ä¹‹å·…ã€‹
2. æ·±å…¥å­¦ä¹ å†…æ ¸è¿½è¸ªæœºåˆ¶
3. å°è¯•ç¼–å†™ç®€å•çš„å†…æ ¸æ¨¡å—

---

## ğŸ“ è¿›åº¦è¿½è¸ª

| é˜¶æ®µ | è®¡åˆ’å‘¨æ•° | å®é™…å¼€å§‹ | å®é™…å®Œæˆ | çŠ¶æ€ |
|------|---------|---------|---------|------|
| é˜¶æ®µä¸€ï¼šåŸºç¡€ | 4-6å‘¨ | - | - | â¬œ æœªå¼€å§‹ |
| é˜¶æ®µäºŒï¼šå†…æ ¸è¿½è¸ª | 6-8å‘¨ | - | - | â¬œ æœªå¼€å§‹ |
| é˜¶æ®µä¸‰ï¼šeBPFåº”ç”¨ | 4-6å‘¨ | - | - | â¬œ æœªå¼€å§‹ |
| é˜¶æ®µå››ï¼šProfiling | 4-6å‘¨ | - | - | â¬œ æœªå¼€å§‹ |
| é˜¶æ®µäº”ï¼šAIé›†æˆ | 6-8å‘¨ | - | - | â¬œ æœªå¼€å§‹ |

> **é¢„è®¡æ€»æ—¶é•¿**: 24-34å‘¨ï¼ˆçº¦6-8ä¸ªæœˆï¼‰

---

## ğŸ¯ é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹

- [ ] **M1**: å®Œæˆç®€æ˜“mytopå·¥å…·ï¼ˆé˜¶æ®µä¸€ç»“æŸï¼‰
- [ ] **M2**: å®Œæˆå†…æ ¸/ç”¨æˆ·æ€å‡½æ•°è¿½è¸ªå·¥å…·ï¼ˆé˜¶æ®µäºŒç»“æŸï¼‰
- [ ] **M3**: è¿è¡Œç¬¬ä¸€ä¸ªè‡ªå®šä¹‰eBPFç¨‹åºï¼ˆé˜¶æ®µä¸‰ç»“æŸï¼‰
- [ ] **M4**: ç”Ÿæˆç¬¬ä¸€å¼ ç«ç„°å›¾ï¼ˆé˜¶æ®µå››ç»“æŸï¼‰
- [ ] **M5**: å®ŒæˆAIæ™ºèƒ½ä½“åŸå‹ï¼ˆé˜¶æ®µäº”ç»“æŸï¼‰

---

## ğŸ”Œ æ‰©å±•åŠŸèƒ½ï¼šå¤–éƒ¨æ€§èƒ½å·¥å…·é›†æˆ

> ä½œä¸ºæ ¸å¿ƒå­¦ä¹ åŠŸèƒ½çš„è¡¥å……ï¼Œæä¾›ä¸ç°æœ‰ä¸“ä¸šæ€§èƒ½å·¥å…·çš„æ— ç¼é›†æˆï¼Œä½¿æ™ºèƒ½ä½“èƒ½å¤Ÿï¼š
> 1. ç›´æ¥åˆ©ç”¨ç°æœ‰å·¥å…·çš„å¼ºå¤§æ•°æ®é‡‡é›†èƒ½åŠ›
> 2. ç»Ÿä¸€ä¸åŒå·¥å…·çš„æ•°æ®æ ¼å¼
> 3. è®©AIæ™ºèƒ½ä½“èƒ½åˆ†æå’Œä¼˜åŒ–ä»»ä½•ç”Ÿäº§ç¯å¢ƒ

### æ”¯æŒçš„å¤–éƒ¨å·¥å…·çŸ©é˜µ

| å·¥å…·ç±»åˆ« | å·¥å…·åç§° | é€‚ç”¨åœºæ™¯ | æ•°æ®ç±»å‹ | ä¼˜å…ˆçº§ |
|---------|---------|---------|---------|--------|
| **Linux perf** | perf | CPU Profilingã€ç³»ç»Ÿçº§åˆ†æ | perf.dataã€æŠ˜å æ ˆ | P0 |
| **NVIDIA** | Nsight Compute | CUDAå†…æ ¸åˆ†æ | .ncu-repã€CSV | P0 |
| | Nsight Systems | ç³»ç»Ÿçº§GPU/CPUåˆ†æ | .nsys-repã€SQLite | P0 |
| | nvprof | ä¼ ç»ŸCUDAåˆ†æ | æ–‡æœ¬ã€CSV | P1 |
| **Intel** | VTune Profiler | CPU/GPUæ·±åº¦åˆ†æ | .vtuneã€CSV | P1 |
| | Intel Advisor | å‘é‡åŒ–/å¹¶è¡Œåˆ†æ | æ–‡æœ¬ã€JSON | P1 |
| **eBPFç”Ÿæ€** | bpftrace | åŠ¨æ€è¿½è¸ª | æ–‡æœ¬ã€JSON | P0 |
| | BCC | é«˜çº§eBPFåˆ†æ | æ–‡æœ¬ã€Pythonå¯¹è±¡ | P1 |
| | ply | è½»é‡çº§è¿½è¸ª | æ–‡æœ¬ | P2 |
| **å†…å­˜åˆ†æ** | Valgrind/Massif | å†…å­˜åˆ†æ | æ–‡æœ¬ã€XML | P1 |
| | heaptrack | å †å†…å­˜è¿½è¸ª | .gzã€JSON | P1 |
| **GPUé€šç”¨** | rocprof | AMD GPUåˆ†æ | æ–‡æœ¬ã€JSON | P2 |
| | oneAPI Level Zero | Intel GPUåˆ†æ | æ–‡æœ¬ã€JSON | P2 |

### é›†æˆæ¶æ„è®¾è®¡

```
external/                          # å¤–éƒ¨å·¥å…·é›†æˆå±‚ï¼ˆç‹¬ç«‹äºcoreï¼‰
â”œâ”€â”€ base/                          # åŸºç¡€æ¥å£å®šä¹‰
â”‚   â”œâ”€â”€ external_tool.hpp          # å¤–éƒ¨å·¥å…·åŸºç±»æ¥å£
â”‚   â”œâ”€â”€ tool_adapter.hpp           # é€‚é…å™¨åŸºç±»
â”‚   â””â”€â”€ data_converter.hpp         # æ•°æ®æ ¼å¼è½¬æ¢å™¨æ¥å£
â”‚
â”œâ”€â”€ adapters/                      # å„å·¥å…·é€‚é…å™¨å®ç°
â”‚   â”œâ”€â”€ perf/                      # Linux perfé›†æˆ
â”‚   â”‚   â”œâ”€â”€ perf_adapter.hpp       # perfé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ perf_adapter.cpp
â”‚   â”‚   â”œâ”€â”€ perf_data_parser.hpp   # perf.dataè§£æ
â”‚   â”‚   â””â”€â”€ perf_script_parser.hpp # perf scriptè§£æ
â”‚   â”‚
â”‚   â”œâ”€â”€ nsight/                    # NVIDIAå·¥å…·é›†æˆ
â”‚   â”‚   â”œâ”€â”€ ncu_adapter.hpp        # Nsight Computeé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ ncu_adapter.cpp
â”‚   â”‚   â”œâ”€â”€ nsys_adapter.hpp       # Nsight Systemsé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ nsys_adapter.cpp
â”‚   â”‚   â””â”€â”€ ncu_report_parser.hpp  # NCUæŠ¥å‘Šè§£æ
â”‚   â”‚
â”‚   â”œâ”€â”€ vtune/                     # Intel VTuneé›†æˆ
â”‚   â”‚   â”œâ”€â”€ vtune_adapter.hpp
â”‚   â”‚   â””â”€â”€ vtune_adapter.cpp
â”‚   â”‚
â”‚   â”œâ”€â”€ bpftrace/                  # bpftraceé›†æˆ
â”‚   â”‚   â”œâ”€â”€ bpftrace_adapter.hpp
â”‚   â”‚   â””â”€â”€ bpftrace_adapter.cpp
â”‚   â”‚
â”‚   â””â”€â”€ valgrind/                  # Valgrindé›†æˆ
â”‚       â”œâ”€â”€ valgrind_adapter.hpp
â”‚       â””â”€â”€ massif_parser.hpp
â”‚
â”œâ”€â”€ unified/                       # ç»Ÿä¸€æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ unified_profile.hpp        # ç»Ÿä¸€æ€§èƒ½åˆ†ææ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ unified_trace.hpp          # ç»Ÿä¸€è¿½è¸ªæ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ unified_metrics.hpp        # ç»Ÿä¸€æŒ‡æ ‡æ•°æ®ç»“æ„
â”‚   â””â”€â”€ unified_report.hpp         # ç»Ÿä¸€æŠ¥å‘Šæ ¼å¼
â”‚
â”œâ”€â”€ orchestrator/                  # å¤–éƒ¨å·¥å…·ç¼–æ’å™¨
â”‚   â”œâ”€â”€ tool_orchestrator.hpp      # å¤šå·¥å…·åè°ƒæ‰§è¡Œ
â”‚   â”œâ”€â”€ pipeline_builder.hpp       # åˆ†ææµæ°´çº¿æ„å»º
â”‚   â””â”€â”€ result_merger.hpp          # å¤šå·¥å…·ç»“æœåˆå¹¶
â”‚
â””â”€â”€ ai_bridge/                     # AIæ¨¡å—æ¡¥æ¥
    â”œâ”€â”€ external_data_bridge.hpp   # æ•°æ®æ¡¥æ¥åˆ°AIåˆ†æ
    â””â”€â”€ tool_recommender.hpp       # å·¥å…·æ¨èå™¨
```

### ä¸æ ¸å¿ƒæ¨¡å—çš„å…³ç³»

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¤–éƒ¨å·¥å…·é›†æˆå±‚ (External)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ perf     â”‚  â”‚ Nsight   â”‚  â”‚ VTune    â”‚  â”‚ bpftrace         â”‚  â”‚
â”‚  â”‚ Adapter  â”‚  â”‚ Adapter  â”‚  â”‚ Adapter  â”‚  â”‚ Adapter          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â”‚             â”‚             â”‚                  â”‚            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                              â”‚                                     â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚                    â”‚   Unified Data    â”‚                          â”‚
â”‚                    â”‚   Model (ç»Ÿä¸€)     â”‚                          â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                       â”‚                       â”‚
       â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ ¸å¿ƒåˆ†æå±‚   â”‚      â”‚  AIåˆ†ææ¨¡å—   â”‚      â”‚  æŠ¥å‘Šç”Ÿæˆ    â”‚
â”‚  (Analyzer)   â”‚      â”‚  (AI Module)  â”‚      â”‚  (Report)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®è®¾è®¡åŸåˆ™

1. **å³æ’å³ç”¨**ï¼šå¤–éƒ¨å·¥å…·æ˜¯å¯é€‰ä¾èµ–ï¼Œæ²¡æœ‰è¿™äº›å·¥å…·æ ¸å¿ƒåŠŸèƒ½ä»èƒ½è¿è¡Œ
2. **æ•°æ®ç»Ÿä¸€**ï¼šæ‰€æœ‰å¤–éƒ¨å·¥å…·è¾“å‡ºè½¬æ¢ä¸ºç»Ÿä¸€æ•°æ®æ¨¡å‹ï¼Œä¾¿äºAIåˆ†æ
3. **æ™ºèƒ½æ¨è**ï¼šAIæ ¹æ®åœºæ™¯è‡ªåŠ¨æ¨èåˆé€‚çš„å¤–éƒ¨å·¥å…·ç»„åˆ
4. **å‘åå…¼å®¹**ï¼šå¤–éƒ¨å·¥å…·ç‰ˆæœ¬å‡çº§ä¸å½±å“é€‚é…å™¨æ¥å£

### å¼€å‘é˜¶æ®µï¼ˆä¸æ ¸å¿ƒåŠŸèƒ½å¹¶è¡Œï¼‰

| é˜¶æ®µ | å†…å®¹ | é¢„è®¡æ—¶é—´ | ä¼˜å…ˆçº§ |
|------|------|---------|--------|
| **E1** | åŸºç¡€æ¡†æ¶ + perfé€‚é…å™¨ | 1-2å‘¨ | P0 |
| **E2** | NVIDIA Nsighté›†æˆ | 1-2å‘¨ | P0 |
| **E3** | bpftraceåŠ¨æ€è¿½è¸ªé›†æˆ | 1å‘¨ | P0 |
| **E4** | Intel VTune/Advisor | 1å‘¨ | P1 |
| **E5** | å¤šå·¥å…·ç»“æœåˆå¹¶ä¸å…³è”åˆ†æ | 2å‘¨ | P1 |

---

*æ–‡æ¡£åˆ›å»ºæ—¥æœŸï¼š2026-02-15*

*ç¥å­¦ä¹ æ„‰å¿«ï¼è®°ä½ï¼šSlow is smooth, smooth is fast.*
